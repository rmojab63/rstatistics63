---
title: "مثال ۱-۱: تعریف یک ماتریس (مقدمه‌ای بر برنامه‌نویسی)"
author: "رامین مجاب"
output: md_document
---
##  مثال ۱-۱: تعریف یک ماتریس (مقدمه‌ای بر برنامه‌نویسی)
<p style='font-size: 0.8em;'><b>نویسنده:</b> <span>رامین مجاب</span></p>

**(صفحهٔ ۷ کتاب)**

این مثال حاوی یک بحث نسبتاً طولانی دربارهٔ ماتریس در **R** است. بحث را با کد زیر و استفاده از تابع `matrix` برای ایجاد یک ماتریس نمونه آغاز می‌کنیم:


``` r
> matrix(data = c(1, 2, 3, 4), nrow = 2, ncol = 2)
```

```
#      [,1] [,2]
# [1,]    1    3
# [2,]    2    4
```

برای اجرای این کد (اصطلاحاً `run` کردن کد)، آن را در `Console` بنویسید و کلید `enter` را فشار دهید. به‌طور جایگزین، در محیط `RStudio` می‌توانید یک فایل `.R` جدید ایجاد کنید و آن را با استفاده از منوهای این نرم‌افزار یا با فشردن کلیدهای `ctrl+enter` اجرا کنید.

تقریباً تمام توابع در **R** دارای ورودی هستند. ورودی‌ها را درون پرانتز مقابل نام تابع وارد می‌کنیم. در کد فوق، سه ورودی با نام‌های `data`، `nrow`، و `ncol` تعریف شده است. به هر ورودی پس از علامت `=` ارزش مشخصی اختصاص می‌دهیم تا درون تابع مورداستفاده قرار گیرد.

ورودی `data` یک بردار از اعداد حقیقی است که ارزش درایه‌های ماتریس را تعیین می‌کند (توجه کنید که در **R**، دستور `c(1,2,3,4)` بردار اعداد حقیقی ایجاد می‌کند و `c(1L,2L,3L,4L)` بردار اعداد صحیح). به‌طور پیش‌فرض، ماتریس به‌صورت ستون‌وار از این ارزش‌ها پر می‌شود.

ورودی‌های `nrow` و `col` به‌ترتیب تعداد سطرها و تعداد ستون‌های ماتریس هستند. این دو به‌همراه `data` در تعریف یک ماتریس (تعریف 1.2 در کتاب) نیز وجود دارند و بنابراین لازم و کافی‌اند. البته، اندازهٔ بردار `data` باید برابر با ضرب `nrow` و `col` باشد. رعایت‌نکردن این محدودیت می‌تواند به اخطار از سمت **R** بینجامد؛ مثلاً کد زیر، نتیجه، و اخطار اعلام‌شده را ببینید:


``` r
> matrix(c(1:4), nrow = 1, ncol = 2)
```

```
# Warning in matrix(c(1:4), nrow = 1, ncol = 2): data length differs from size of matrix: [4
# != 1 x 2]
```

```
#      [,1] [,2]
# [1,]    1    2
```

ورودی‌های دیگر تابع `matrix()` ارتباط چندانی با بحث جبر ماتریس‌ها ندارد و صرفاً گزینه‌های اضافی و البته مفید از منظر برنامه‌نویسی هستند؛ مثلاً، با استفاده از ورودی `dimnames` می‌توانید نام سطرها و ستون‌ها را انتخاب کنید. این ورودی حتماً باید یک لیست با دو عضو باشد. اگر نمی‌خواهید هرکدام از سطرها یا ستون‌ها نام داشته باشند، ارزش `NULL` را استفاده کنید. کد زیر را ببینید:


``` r
> matrix(
+   data = c(1, 2, 3, 4), nrow = 2, ncol = 2,
+   dimnames = list(c("r1", "r2"), c("c1", "c2"))
+ )
```

```
#    c1 c2
# r1  1  3
# r2  2  4
```

به‌عنوان یک مثال دیگر، افزودن ورودی `byrow = TRUE` باعث می‌شود که ماتریس به‌جای ستون‌وار، سطروار از داده‌ها پر شود. در بخش ۲.۱، بحث ترانهادهٔ یک ماتریس را طرح می‌کنیم و تغییر این گزینه عملاً ماتریسی می‌سازد که ترانهادهٔ ماتریس قبلی است.

الزامی وجود ندارد که ورودی `data` برداری از اعداد حقیقی باشد. هر نوع داده‌ای که بتوان در یک بردار در **R** ذخیره کرد، می‌تواند درایه‌های بردار نیز باشد. کد زیر را ملاحظه کنید:


``` r
> matrix(
+   data = complex(real = c(1, 2), imaginary = c(3, 4)),
+   nrow = 1
+ )
```

```
#      [,1] [,2]
# [1,] 1+3i 2+4i
```

``` r
> matrix(c(TRUE, FALSE), nrow = 1)
```

```
#      [,1]  [,2]
# [1,] TRUE FALSE
```

در خط اول، ماتریسی از اعداد مختلط و در خط دوم، ماتریسی از نوع بولی ساخته می‌شود. اکنون در ابتدا، ماتریسی با درایه‌های حروف می‌سازیم و سپس آن را به ماتریسی حقیقی تبدیل می‌کنیم. کد زیر را ببینید:


``` r
> A <- matrix(c("1", "2"), nrow = 1, dimnames = list(c("R"), NULL))
> matrix(
+   data = as.numeric(A),
+   nrow = nrow(A), ncol = ncol(A),
+   dimnames = list(rownames(A), colnames(A))
+ )
```

```
#   [,1] [,2]
# R    1    2
```

دستور `as.numeric(A)` نشان می‌دهد که ماتریس در مرحلهٔ اول به یک بردار تبدیل شده است. وقتی داده‌ها را از فایل‌های متنی می‌خوانید، ممکن است به چنین تبدیلی نیاز پیدا کنید.

توابع `nrow()` و `ncol()` به‌ترتیب تعداد سطرها و تعداد ستون‌های ماتریس را به‌عنوان خروجی ارائه می‌کند. همچنین، توابع `rownames()` و `colnames()` به‌ترتیب لیستی از نام سطرها و ستون‌های ماتریس را دریافت می‌کند.

عناصر ماتریس را می‌توان پس از تشکیل نیز تغییر داد. **R** گرامر‌های کاربردی زیادی برای ارزش‌گذاری یک درایه یا بخشی از ماتریس دارد. کد زیر را بررسی کنید:


``` r
> A <- matrix(c(1, 2, 3, 4), nrow = 2)
> A[1, 1] <- -1
> A[[2, 2]] <- -4
> A
```

```
#      [,1] [,2]
# [1,]   -1    3
# [2,]    2   -4
```

حالت کلی پس از معرفی ماتریس‌های افراز‌شده در بخش ۱.۸ بحث می‌شود. [مثال ۲-۲](matrix_book_fa_example2.2) را نیز ببینید.

اکنون، فرض کنید یک بردار به تابع `matrix()` فرستاده شود. انتظار نداشته باشید با تغییر یک درایه در بردار (یا ماتریس)، ارزش درایهٔ نظیر آن در ماتریس (یا بردار) تغییر کند؛ مثلاً، در کد زیر ارزش بردار `a` در نهایت همان چیزی است که تعریف شده است:


``` r
> a <- c(1, 2)
> A <- matrix(a, nrow = 1)
> A[1, 2] <- 5
> a
```

```
# [1] 1 2
```

البته، رفتار یک تابع نسبت به ورودی‌هایش در **R** همیشه یکسان نیست و بهترین گزینه برای اطلاعات بیشتر، مطالعهٔ توضیحات هر تابع است.


<p style='margin-bottom:3cm;'></p><hr/>

- [مثال ۱-۲: شناسایی نوع ماتریس‌ها (ادامهٔ مقدمه‌ای بر برنامه‌نویسی)](matrix_book_fa_example1.2.html)
- [<b>لیست مثال‌ها</b>](matrix_book_fa.html)
