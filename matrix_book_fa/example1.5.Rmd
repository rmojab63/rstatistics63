---
title: "مثال ۱-۵: افراز ماتریس‌ها (ارزش‌گذاری و ارزش‌گیری از زیرمجموعه‌ای از درایه‌های یک ماتریس)"
author: "رامین مجاب"
output: md_document
---

**(صفحهٔ ۳۵ کتاب)**

برای ارزش‌گذاری یا گرفتن ارزش درایهٔ سطر `i`‌ و ستون `j` یک ماتریس نظیر `A` در **R**، می‌توان از دستور  `A[i,j]` استفاده کرد. در [مثال ۲-۲](matrix_book_fa_example2.2)، دستوراتی وجود دارد که در آن‌ها $j$ وجود ندارد و تنها به ایندکس سطر اشاره شده است؛ یعنی `A[i,]`. همان‌طور که توضیح داده شد، این گرامر **R** برای اشاره به سطر `i`-ام است. به‌طور مشابه، دستور `A[,j]` به ستون `j`-ام اشاره می‌کند. از این دستورها می‌توان برای ارزش‌گذاری یا گرفتن ارزش کل ستون‌ها استفاده کرد.

حالت کلی‌تر دستورهای فوق زمانی است که می‌خواهیم یک زیرماتریس (یا اگر از ادبیات این بخش استفاده کنیم، یک افراز) را ارزش‌گذاری کنیم یا ارزش آن را بگیریم. در این حالت، باید به‌جای عدد، از برداری از ایندکس‌های سطر یا ستون‌ها   استفاده کنیم. کد زیر را ملاحظه کنید:
```{r}
A <- matrix(1:12, nrow = 3, ncol = 4)
A
A[c(1, 2), 2:3]
```
گرامر **R** در زمینهٔ ارزش‌گذاری و ارزش‌گیری ماتریس‌ها بسیار منعطف‌تر و کاربردی‌تر از بحث افراز ماتریس‌ها در این بخش است؛ مثلاً، یکی از مهم‌ترین عملیات‌ها استفاده از بردار یا ماتریسی از نوع بولی به‌عنوان ایندکس است. برای طرح ایده، در کد زیر تمام درایه‌هایی که ارزش آن‌ها زوج است، صفر می‌شود:
```{r}
A[A %% 2 == 0] <- 0
A
```
عبارت `%%` عملگر باقیمانده است که باقیماندهٔ تقسیم درایه‌های ماتریس `A` بر $2$ را محاسبه می‌کند. اگر دستور `A %% 2 == 0` را به‌صورت مجزا اجرا کنید، نتیجه یک ماتریس از نوع بولی است. در کد فوق، درایه‌های نظیر با ارزش‌های `TRUE` در این ماتریس صفر می‌شوند. به‌عنوان تمرین، کد را تغییر دهید تا درایه‌هایی که ارزش آن‌ها فرد است و به ستون‌های دوم و چهارم تعلق دارند، در $2$ ضرب شوند (راهنمایی: این هر دو عملیات ارزش‌گیری و ارزش‌گذاری را شامل می‌شود).
