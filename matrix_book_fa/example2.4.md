**(صفحهٔ ۶۴ کتاب)**

توسعه و توزیع بسته‌های نرم‌افزاری مکمل در **R** امکان‌پذیر است و این یکی از
نقاط قوت این زبان برنامه‌نویسی است؛ مثلاً، برای انجام تجزیهٔ `LU` می‌توان از
بستهٔ نرم‌افزاری با نام `Matrix` (Bates, Maechler, and Jagan 2024)،
استفاده کرد. کد زیر نحوهٔ بررسیِ نیاز به دریافت و نصب این بسته، و در
این‌صورت، دستور لازم برای دریافت و نصب بسته را نشان می‌دهد:

    if (!require(Matrix)) {
      install.packages("Matrix")
    }

اکنون، کد زیر را ملاحظه کنید:

    A <- matrix(c(1:8, 10), nrow = 3)
    luA <- Matrix::expand(Matrix::lu(A))

    luA$P

    ## 3 x 3 sparse Matrix of class "pMatrix"
    ##           
    ## [1,] . | .
    ## [2,] . . |
    ## [3,] | . .

    luA$L

    ## 3 x 3 Matrix of class "dtrMatrix" (unitriangular)
    ##      [,1]      [,2]      [,3]     
    ## [1,] 1.0000000         .         .
    ## [2,] 0.3333333 1.0000000         .
    ## [3,] 0.6666667 0.5000000 1.0000000

    luA$U

    ## 3 x 3 Matrix of class "dtrMatrix"
    ##      [,1]      [,2]      [,3]     
    ## [1,]  3.000000  6.000000 10.000000
    ## [2,]         .  2.000000  3.666667
    ## [3,]         .         . -0.500000

    all.equal(luA$L %*% luA$U, Matrix::t(luA$P) %*% A)

    ## [1] TRUE

عبارت `Matrix::` (شامل نام بستهٔ نرم‌افزاری و پس از آن علامت `::` که با
نام «گرامر فضای‌نام» یا <span dir="ltr">namespace syntax</span> شناخته
می‌شود)، نشان می‌دهد که این تابع در بسته `Matrix` تعریف شده است. شاید این
پرسش برای شما مطرح شود که چرا زمان استفاده از تابع `matrix()`، نام بسته
ذکر نشده است؛ مثلاً ننوشته‌ایم `base::matrix()`. علت آن است که بستهٔ `base`
شامل توابع و داده‌های اساسی **R** است و با راه‌اندازی **R**، به‌طور خودکار
بارگذاری می‌شود. اگر بسته‌ای را بارگذاری کنید، نیازی به استفاده از نام آن
برای فراخوانی توابع آن نیست. بارگذاری یک بسته با تابع `library()` انجام
می‌شود. در این مثال خاص، اجرای دستور `library(Matrix)` نیاز به استفاده از
عبارت `Matrix::` را برطرف می‌کند. معمولاً، اگر می‌خواهیم مکرراً از توابع یک
بستهٔ نرم‌افزاری استفاده کنیم، آن بسته را بارگذاری می‌کنیم. البته، استفاده
از نام بسته و `::` وقتی دو بسته دارای توابعی با نام یکسان هستند مفید و
تا اندازه‌ای ضروری می‌شود.

در کد فوق، `luA` از نوع `list` است و از علامت `$` برای دسترسی به اجزای
آن استفاده شده است. همچنین، توجه کنید که در خط آخر، ترانهادهٔ ماتریس
`luA$P` در ماتریس `A` ضرب شده است و متفاوت با قضیهٔ ۲-۹ (صفحهٔ ۶۲ در کتاب)
است. این به نوع پیاده‌سازی کد در بستهٔ نرم‌افزاری مرتبط است و احتمالاً
بتوانید اطلاعاتی از آن در توضیحات تابع بیابید. علاوه‌براین، `luA$P` یک
ماتریس خلوت یا `sparse` است؛ به این معنی که صفر زیاد دارد و این ویژگی
باعث می‌شود نوع ذخیره‌سازی اطلاعات در آن متفاوت باشد، به‌طوری‌که حجم
موردنیاز کمتر و سرعت انجام محاسبات بیشتر شود. همچنین، اگر نحوهٔ متفاوت
نمایش این ماتریس در پنجرهٔ `Console` یا در این متن توجه شما را جلب کرده
است، این به نحوهٔ پیاده‌سازی تابع `print()` در بستهٔ موردنظر بازمی‌گردد
(نگاه کنید به: [مثال ۴-۲](matrix_book_fa_example4.2)).

به دستور `install.packages("Matrix")` بازگردیم. این دستور، بستهٔ
نرم‌افزاری را از CRAN (مخفف شبکهٔ جامع آرشیو **R** یا
<span dir="ltr">Comprehensive R Archive Network</span>) دریافت و نصب
می‌کند. این شبکه‌ای از سرورها در سرتاسر جهان است که نسخه‌های یکسان و به‌روز
از بسته‌های نرم‌افزاری **R** و مستندات مرتبط با آن را فراهم می‌کند. فرایند
بارگذاری بسته‌ها، بررسی آن‌ها تحت شرایط مختلف، اجرای آزمو‌ن‌ها در فرایند نصب
بسته و غیره، و کنترل نسخه در این شبکه به‌گونه‌ای است که این اطمینان حاصل
شود تا نتیجهٔ اجرای یک دستور در یک سیستم با نتیجهٔ اجرای آن در یک سیستم
دیگر تفاوت غیرمنتظره‌ای نداشته باشد. یکی از دلایل اصلی ارزشمندبودن
برنامه‌نویسی در **R**، وجود همین شبکهٔ مرکزی است.

در مواردی، ممکن است یک بسته در CRAN وجود نداشته باشد و از طریق دیگری
توزیع شده باشد. در این حالت، ورودی‌های تابع `install.packages()` را باید
تنظیم کرد. درهرحال، چنین بسته‌هایی را باید با احتیاط استفاده کرد، مخصوصاً
اگر علت توزیع‌نشدنش توسط CRAN نبودِ استانداردهای این شبکه باشد؛ مثلاً،
تست‌های آن فقط در یک نسخهٔ خاص Windows اجرا و تأیید شده است. در این حالت،
در سیستم فعلی شما خطاهای ناشناخته و محاسبهٔ نتایج غلط، محتمل است.

# References

Bates, Douglas, Martin Maechler, and Mikael Jagan. 2024. *Matrix: Sparse
and Dense Matrix Classes and Methods*.
<https://Matrix.R-forge.R-project.org>.
